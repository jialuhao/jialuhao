<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN 2.0//EN" "http://www.springframework.org/dtd/spring-beans-2.0.dtd" >
<beans default-lazy-init="true">
<!-- 
	<bean name="/login" class="ui.action.LoginAction" scope="prototype">
		<property name="loginService">
			<ref bean="UserService"/>
		</property>
	</bean>
-->

	<!-- 模板bean -->
    	<bean name="actionTemplate" abstract="true" scope="prototype">
		<property name="inviteManager">
			<ref bean="inviteManager"/>
		</property>
	</bean>
	
	<!-- sso action -->
	<bean name="/ssoLogin" class="ui.action.sso.SsoLoginAction" parent="actionTemplate" />
	
	<!-- 首页跳转action 
	<bean name="/index" class="ui.servlet.IndexAction" parent="actionTemplate" />
	-->
	<bean name="/indexGoTo" class="ui.servlet.IndexGoToAction" parent="actionTemplate" />
	<bean name="/indexGoTosyqz" class="ui.servlet.IndexGoToAction" parent="actionTemplate" />
	<bean name="/indexGoTosyzp" class="ui.servlet.IndexGoToAction" parent="actionTemplate" />
	
	<!-- 个人用户action -->
	<bean name="/indexLogin" class="ui.action.person.IndexLoginAction" parent="actionTemplate" />	
	<bean name="/login" class="ui.action.person.LoginAction" parent="actionTemplate" />
	<bean name="/logout" class="ui.action.person.LogoutAction" parent="actionTemplate" />
	<bean name="/modifyPassword" class="ui.action.person.ModifyPasswordAction" parent="actionTemplate" />
	
	<bean name="/personRegist1" class="ui.action.person.PersonRegist1Action" parent="actionTemplate" />
	<bean name="/goOnRegist" class="ui.action.person.GoOnRegistAction" parent="actionTemplate" />
	<bean name="/personRegist2" class="ui.action.person.PersonRegist2Action" parent="actionTemplate" />
	<bean name="/personRegist3" class="ui.action.person.PersonRegist3Action" parent="actionTemplate" />
	<bean name="/personRegist4_1" class="ui.action.person.PersonRegist4_1Action" parent="actionTemplate" />

	<bean name="/personRegist4" class="ui.action.person.PersonRegist4Action" parent="actionTemplate" />

	<bean name="/updateResume" class="ui.action.person.UpdateResumeAction" parent="actionTemplate" />
	<bean name="/personRegist5" class="ui.action.person.PersonRegist5Action" parent="actionTemplate" />
	<bean name="/personRegist6" class="ui.action.person.PersonRegist6Action" parent="actionTemplate" />	
	<bean name="/personShow" class="ui.action.person.PersonShowAction" parent="actionTemplate" />
	<bean name="/delResume" class="ui.action.person.DelResumeAction" parent="actionTemplate" />
	<bean name="/delApply" class="ui.action.person.DelApplyAction" parent="actionTemplate" />
	<bean name="/saveIntro" class="ui.action.person.SaveIntroAction" parent="actionTemplate" />
	<bean name="/showResume" class="ui.action.person.ShowResumeAction" parent="actionTemplate" />

	<bean name="/editResume" class="ui.action.person.EditResumeAction" parent="actionTemplate" />
	<bean name="/personApplyList" class="ui.action.person.PersonApplyListAction" parent="actionTemplate" />	
	<bean name="/personRegist7" class="ui.action.person.PersonRegist7Action" parent="actionTemplate" />		
	<bean name="/postResume" class="ui.action.person.PostResumeAction" parent="actionTemplate" />		
	<bean name="/resume" class="ui.action.person.ResumeAction" parent="actionTemplate" />		
	<bean name="/showPersonResume" class="ui.action.person.ShowPersonResumeAction" parent="actionTemplate" />
	<bean name="/personSearch" class="ui.action.person.PersonSearchAction" parent="actionTemplate" />
	<bean name="/resumeView" class="ui.action.person.ResumeViewAction" parent="actionTemplate" />
	<bean name="/showContactWay" class="ui.action.person.ShowContactWayAction" parent="actionTemplate" />			
	<bean name="/saveContactWay" class="ui.action.person.SaveContactWayAction" parent="actionTemplate" />		
	<bean name="/applyJobEdit" class="ui.action.person.ApplyJobEditAction" parent="actionTemplate" />
	<bean name="/showOneApplyJob" class="ui.action.person.ShowOneApplyJobAction" parent="actionTemplate" />	
	<bean name="/uploadImg" class="ui.action.person.UploadImgAction" parent="actionTemplate" />	
	<bean name="/changeImg" class="ui.action.person.ChangeImgAction" parent="actionTemplate" />	
	<bean name="/photo" class="ui.action.person.PhotoAction" parent="actionTemplate" />

	<!-- 公司用户action -->
		<bean name="/indextCLogin" class="ui.action.company.IndextCLoginAction" parent="actionTemplate" />
		<bean name="/companyLogin" class="ui.action.company.CompanyLoginAction" parent="actionTemplate" />
		<bean name="/companyModifyPassword" class="ui.action.company.ModifyPasswordAction" parent="actionTemplate" />
		<bean name="/companyRegist1" class="ui.action.company.CompanyRegist1Action" parent="actionTemplate" />
		<bean name="/companyRegist2" class="ui.action.company.CompanyRegist2Action" parent="actionTemplate" />
		<bean name="/companyPubJob" class="ui.action.company.CompanyPubJobAction" parent="actionTemplate" />
		<bean name="/companyShow" class="ui.action.company.CompanyShowAction" parent="actionTemplate" />
		<bean name="/companyResume" class="ui.action.company.CompanyResumeAction" parent="actionTemplate" />
		<bean name="/companyQueryContact" class="ui.action.company.CompanyQueryContactAction" parent="actionTemplate" />
		<bean name="/companyQueryNotContact" class="ui.action.company.CompanyQueryNotContactAction" parent="actionTemplate" />
		
		<bean name="/companyShowOneInfo" class="ui.action.company.CompanyShowOneInfoAction" parent="actionTemplate" />
		<bean name="/companyAbility" class="ui.action.company.CompanyAbilityAction" parent="actionTemplate" />
		<bean name="/compShowPersonInfo" class="ui.action.company.CompShowPersonInfoAction" parent="actionTemplate" />
		<bean name="/bdPostShow" class="ui.action.company.BdPostShowAction" parent="actionTemplate" />
		<bean name="/companySearch" class="ui.action.company.CompanySearchAction" parent="actionTemplate" />
		<bean name="/showPhoto" class="ui.action.company.ShowPhotoAction" parent="actionTemplate" />
	
	<!-- 管理员action -->
		<bean name="/admin/manaLogin" class="ui.action.admin.ManaLoginAction" parent="actionTemplate" />
		<bean name="/admin/modifyPassword" class="ui.action.admin.ModifyPasswordAction" parent="actionTemplate" />
		<bean name="/admin/showAllBespeak" class="ui.action.admin.ShowAllBespeakAction" parent="actionTemplate" />
		<bean name="/admin/showAllCompany" class="ui.action.admin.ShowAllCompanyAction" parent="actionTemplate" />
		<bean name="/admin/educateManage"  class="ui.action.admin.EducateManageAction " parent="actionTemplate" />
		<bean name="/admin/compkindManage" class="ui.action.admin.CompkindManageAction "  parent="actionTemplate" />
		<bean name="/admin/compTradeManage" class="ui.action.admin.CompTradeManageAction " parent="actionTemplate" />

		<bean name="/admin/addPost" class="ui.action.admin.AddPostAction" parent="actionTemplate" />
		<bean name="/admin/showPost" class="ui.action.admin.ShowPostAction" parent="actionTemplate" />
		<bean name="/admin/addJob" class="ui.action.admin.AddJobAction" parent="actionTemplate" />
		<bean name="/admin/showJob" class="ui.action.admin.ShowJobAction" parent="actionTemplate" />

		<bean name="/admin/findAllUserId" class="ui.action.admin.FindAllUserIdAction" parent="actionTemplate" />
		<bean name="/admin/nextfindAllUserId" class="ui.action.admin.FindAllUserIdAction" parent="actionTemplate" />					
		<bean name="/admin/delUser" class="ui.action.admin.DelUserAction" parent="actionTemplate" />					
		<bean name="/admin/delPost" class="ui.action.admin.DelPostAction" parent="actionTemplate" />					
		<bean name="/admin/delJob" class="ui.action.admin.DelJobAction" parent="actionTemplate" />					
		<bean name="/admin/showAdmin" class="ui.action.admin.ShowAdminAction" parent="actionTemplate" />					
		<bean name="/admin/delAdmin" class="ui.action.admin.DelManaUserAction" parent="actionTemplate" />					
		<bean name="/admin/addAdmin" class="ui.action.admin.AddAdminAction" parent="actionTemplate" />					
		<bean name="/admin/addPostRoot" class="ui.action.admin.AddPostRootAction" parent="actionTemplate" />					
		<bean name="/admin/showPostRoot" class="ui.action.admin.ShowPostRootAction" parent="actionTemplate" />					
		<bean name="/admin/delPostRoot" class="ui.action.admin.DelPostRootAction" parent="actionTemplate" />					
	
															
	<!-- aop框架检查权限 BeanNameAutoProxyCreator为目标bean生成代理可 -->

	<bean class="org.springframework.aop.framework.autoproxy.BeanNameAutoProxyCreator">
		<property name="beanNames">
			<list>
			
				<value>/companyPubJob</value>
				
				<value>/companyResume</value>
			
			</list>
		</property>
		<property name="interceptorNames">
			<list>
				<value>compAuthorityInterceptor</value>
			</list>
		</property>
	</bean>
	
	<bean class="org.springframework.aop.framework.autoproxy.BeanNameAutoProxyCreator">
		<property name="beanNames">
			<list>
				
				<value>/delResume</value>
				<value>/saveIntro</value>
				<value>/showResume</value>
				<value>/editResume</value>
				<value>/personApplyList</value>
				<value>/personRegist7</value>
				<value>/postResume</value>
				<value>/resume</value>
			</list>
		</property>
		<property name="interceptorNames">
			<list>
				<value>userMethodInterceptor</value>
			</list>
		</property>
	</bean>
	<bean class="org.springframework.aop.framework.autoproxy.BeanNameAutoProxyCreator">
		<property name="beanNames">
			<list>
				<value>/admin/educateManage</value>
				<value>/admin/compkindManage</value>
				<value>/admin/compTradeManage</value>
				<value>/admin/showAllBespeak</value>
				<value>/admin/showAllCompany</value>
				<value>/admin/addPost</value>
				<value>/admin/showPost</value>
				<value>/admin/addJob</value>
				<value>/admin/showJob</value>
				<value>/admin/findAllUserId</value>
				<value>/admin/nextfindAllUserId</value>
				<value>/admin/delUser</value>
				<value>/admin/delPost</value>
				<value>/admin/showAdmin</value>
				<value>/admin/delAdmin</value>
				<value>/admin/addAdmin</value>
				<value>/admin/delJob</value>
			</list>
		</property>
		<property name="interceptorNames">
			<list>
				<value>adminAuthorityInterceptor</value>
			</list>
		</property>
	</bean>
	
	
	<!-- 公司会员权限检查拦截器 -->
	<bean id="compAuthorityInterceptor" class="common.authority.CompAuthorityInterceptor">
	</bean>
	<!-- 个人会员权限检查拦截器 -->
	<bean id="userMethodInterceptor" class="common.authority.UserMethodInterceptor">
	</bean>
	<!-- 管理员权限检查拦截器 -->
	<bean id="adminAuthorityInterceptor" class="common.authority.AdminAuthorityInterceptor">
	</bean>
</beans>
